<div class="cart-drawer-main">
  {% form 'cart', cart %}
  <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
    <div class="offcanvas-header">
      <h5 id="offcanvasRightLabel" id="cart_drawer_count">Cart Item &bull;{{cart.item_count}}</h5>
      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <div class="cart_items">
        <table class="table">
          {% for item in cart.items %}
          <tr class="item">
            <td class="product-image">
              <img src="{{ item.image | img_url: 'small' }}" alt="{{ item.product.title }}">
            </td>
            <td class="item-info">
              <h6 class="item-title ">{{item.product.title | truncate: 20 }}</h6>
              {% unless item.product.has_only_default_variant %}
              {% for option in item.options_with_values %}
              <span class="item_option">{{ option.value }}</span>
              {% unless forloop.last %}
              /
              {% endunless %}
              {% endfor %}
              {% endunless %}
              <div class="quantity mt-2 ">
                <div class=" d-flex">
                  <span class="quantity_decreses" onclick="decreaseItem(this)">-</span>
                  <input type="number" name="quantity" value="{{ item.quantity }}" class="w-75 cart_quantity_input"
                    data-line="{{forloop.index}}">
                  <span class="quantity_increses" onclick="increaseItem(this)">+</span>
                </div>
              </div>
            </td>
            <td class="item-action">
              <div style="
            display: flex;
            align-items: center;
            flex-direction: column;">
                <a href="/cart/change?line={{ forloop.index }}&quantity=0" data-line="{{forloop.index}}" onclick="removeItem(event,this)">{% render
                  'icon', icons:'delete' %}</a>
                <p class="item_price mt-2" style="display:inline-block; margin-left:8px; white-space:nowrap;">
                  {{ item.line_price | money }}
                </p>
              </div>
            </td>
          </tr>
          {% endfor %}
        </table>
      </div>
    </div>
    <div class="offcanves_footer">
      <div class="cart_footer">
        <div class="cart_sub_total d-flex justify-content-between">
          <h2 class="subtotal_title">Subtotal : </h2>
          <h2 class="subtotal">{{cart.total_price | money}}</h2>
        </div>
        <div class="checkout_action_button">
          <button type="submit" name="checkout" class="btn btn-primary w-100">Checkout</button>
        </div>
      </div>
    
    </div>
  </div>
  {% endform %}
</div>